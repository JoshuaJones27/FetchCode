:(null==(c=rr())?void 0:c.hasSucceededOnce)||a};var d;null==(d=qr())||d.set("LAST_RESULT_ENTRY_KEY",b,2592E3,!0)}return a})};
ks=function(){return g.La("ytglobal.idbToken_")||void 0};
g.ls=function(){var a=ks();return a?Promise.resolve(a):Ioa().then(function(b){(b=b?is:void 0)&&g.Ka("ytglobal.idbToken_",b);return b})};
Joa=function(a){if(!g.Cr())throw a=new g.Fr("AUTH_INVALID",{dbName:a}),yr(a),a;var b=g.Br();return{actualName:a+":"+b,publicName:a,userIdentifier:b}};
Koa=function(a,b,c,d){var e,f,h,l,m,n;return g.B(function(p){switch(p.j){case 1:return f=null!=(e=Error().stack)?e:"",g.A(p,g.ls(),2);case 2:h=p.u;if(!h)throw l=g.Kr("openDbImpl",a,b),g.Q("ytidb_async_stack_killswitch")||(l.stack=l.stack+"\n"+f.substring(f.indexOf("\n")+1)),yr(l),l;Dr(a);m=c?{actualName:a,publicName:a,userIdentifier:void 0}:Joa(a);g.wa(p,3);return g.A(p,Eoa(m,h),5);case 5:return g.A(p,Boa(m.actualName,b,d),6);case 6:return p.return(p.u);case 3:return n=g.ya(p),g.wa(p,7),g.A(p,gs(m.actualName,
h),9);case 9:g.xa(p,8);break;case 7:g.ya(p);case 8:throw n;}})};
Loa=function(a,b,c){c=void 0===c?{}:c;return Koa(a,b,!1,c)};
Moa=function(a,b,c){c=void 0===c?{}:c;return Koa(a,b,!0,c)};
Noa=function(a,b){b=void 0===b?{}:b;var c,d;return g.B(function(e){if(1==e.j)return g.A(e,g.ls(),2);if(3!=e.j){c=e.u;if(!c)return e.return();Dr(a);d=Joa(a);return g.A(e,cs(d.actualName,b),3)}return g.A(e,gs(d.actualName,c),0)})};
Ooa=function(a,b,c){a=a.map(function(d){return g.B(function(e){return 1==e.j?g.A(e,cs(d.actualName,b),2):g.A(e,gs(d.actualName,c),0)})});
return Promise.all(a).then(function(){})};
Poa=function(){var a=void 0===a?{}:a;var b,c;return g.B(function(d){if(1==d.j)return g.A(d,g.ls(),2);if(3!=d.j){b=d.u;if(!b)return d.return();Dr("LogsDatabaseV2");return g.A(d,Goa(b),3)}c=d.u;return g.A(d,Ooa(c,a,b),0)})};
Qoa=function(a,b){b=void 0===b?{}:b;var c;return g.B(function(d){if(1==d.j)return g.A(d,g.ls(),2);if(3!=d.j){c=d.u;if(!c)return d.return();Dr(a);return g.A(d,cs(a,b),3)}return g.A(d,gs(a,c),0)})};
ns=function(a){this.KA=this.Se=!1;this.potentialEsfErrorCounter=this.j=0;this.handleError=function(){};
this.Ru=function(){};
this.now=Date.now;this.Ax=!1;var b;this.CR=null!=(b=a.CR)?b:100;var c;this.cR=null!=(c=a.cR)?c:1;var d;this.VQ=null!=(d=a.VQ)?d:2592E6;var e;this.NQ=null!=(e=a.NQ)?e:12E4;var f;this.bR=null!=(f=a.bR)?f:5E3;var h;this.Re=null!=(h=a.Re)?h:void 0;this.jB=!!a.jB;var l;this.UA=null!=(l=a.UA)?l:.1;var m;this.WC=null!=(m=a.WC)?m:10;a.handleError&&(this.handleError=a.handleError);a.Ru&&(this.Ru=a.Ru);a.Ax&&(this.Ax=a.Ax);a.KA&&(this.KA=a.KA);this.fb=a.fb;this.Pk=a.Pk;this.Rf=a.Rf;this.Nf=a.Nf;this.qo=a.qo;
this.GI=a.GI;this.aI=a.aI;ms(this)&&(!this.fb||this.fb("networkless_logging"))&&Roa(this)};
Roa=function(a){ms(a)&&!a.Ax&&(a.Se=!0,a.jB&&Math.random()<=a.UA&&a.Rf.uV(a.Re),Soa(a),a.Nf.tf()&&a.Oz(),a.Nf.Ma(a.GI,a.Oz.bind(a)),a.Nf.Ma(a.aI,a.OM.bind(a)))};
os=function(a,b){var c,d;return g.B(function(e){switch(e.j){case 1:if(!ms(a))throw c=g.Kr("immediateSend"),c;if(void 0===b.id){e.Ra(2);break}return g.A(e,a.Rf.pX(b.id,a.Re),3);case 3:(d=e.u)?b=d:a.Ru(Error("The request cannot be found in the database."));case 2:if(Toa(a,b,a.VQ)){e.Ra(4);break}a.Ru(Error("Networkless Logging: Stored logs request expired age limit"));if(void 0===b.id){e.Ra(5);break}return g.A(e,a.Rf.wu(b.id,a.Re),5);case 5:return e.return();case 4:b.skipRetry||(b=Uoa(a,b));if(!b){e.